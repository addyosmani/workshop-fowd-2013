<!doctype html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta charset="utf-8" />
    <title>GeoMacMap</title>
    <meta name="description" content="Demo app showing how to compose a loosely coupled mapping application using Backbone.Marionette">
    <meta name="author" content="Dave Bouwman / DTSAgile.com">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link href='http://fonts.googleapis.com/css?family=Oxygen:400,700' rel='stylesheet' type='text/css'>  
    <link rel="stylesheet" type="text/css" href="./css/viewer.css" />
</head>
<body>
   
    <div class="navbar">
        <a class="logo" href="#">
            <!-- <img src='./images/js-viewer-logo.png' /> -->
            <span class='entypo-rocket'></span>
        </a>
        <div id="current-item" class="item cursorpointer">
            <span id="current-item-name">Current Fires</span>
            <span id="menu-widget" class='entypo-plus-circled'></span>
        </div>
        <!-- This will contain the legends later on -->
        <div id="horizontal-legend-region"></div>
        <!-- These are the tools on the upper right -->
        <div id="tool-list-region" class="item right">
                           
           
        </div>
    </div>
    

    <!-- The Map -->
    <div id="map" class="claro"></div>

    <!-- Container for Pseudo-modal center view lists -->
    <div id="center-container" style="display:none;" class="view" >
        This will be the center view area<br/>
        Search, search results and the <br>
        List of years for the Historic Fires view will use this<br>
    </div>

    <div id="right-container" style="display:none;" class="view" >
        This is the right container<br/>
        We will have charts or Fire Details here <br/>
        This text is just to take space
    </div>


    <!-- Container for the Drop Down List of Views -->
    <div id="menu-region"  style="display:none;" class="view">
        
    </div>

    <!-- Templates -->
    <script type="text/template" id="menu-list-item-template">
        <span><%=name %></span>
        <div class="right">  
            <span class="entypo-right-circled"></span>
        </div>          
    </script>  

    <script id="tool-template" type="text/template">
        <span class='<%=iconclass%>' > </span>
    </script>

   <script type="text/javascript" src="./javascript/libs/marionette/jquery-1.9.0.js"></script>
   <script type="text/javascript" src="./javascript/libs/marionette/json2.js"></script>
   <script type="text/javascript" src="./javascript/libs/marionette/underscore-1.4.3.js"></script>
   <script type="text/javascript" src="./javascript/libs/marionette/backbone-0.9.10.js"></script>
   <script type="text/javascript" src="./javascript/libs/marionette/backbone.babysitter-0.0.4.js"></script>
   <script type="text/javascript" src="./javascript/libs/marionette/backbone.wreqr-0.1.0.js"></script>
   <script type="text/javascript" src="./javascript/libs/marionette/backbone.marionette-1.0.0-rc3.js"></script>

   <script type="text/javascript" src="./javascript/ViewerApp.js"></script>
   <script type="text/javascript" src="./javascript/NavbarModule.js"></script>
   <script type="text/javascript" src="./javascript/MenuModule.js"></script>
  
   <script>
    //TODO: Change to use dojo.addOnLoad(function{}) when we wire in Esri Map
    $(function(){
        //create a hash for our options that we will pass into 
        //the app
var options = {
    menuItems: [
        { name: 'Current Fires', eventToRaise: 'View:CurrenFires' },
        { name: 'Historic Fires', eventToRaise: 'View:HistoricFires' },
        { name: 'Fire Danger Map', eventToRaise: 'View:FireDanger' }
    ],
    toolItems: [
        {name: 'Search', eventToRaise: 'View:Search', iconclass: 'entypo-search'},
        {name: 'Stats', eventToRaise: 'View:Stats', iconclass: 'entypo-chart-bar'},
        {name: 'Layer List', eventToRaise: 'View:LayerList', iconclass: 'entypo-map'},
    ]  
};
        gmm.Viewer.start(options);
    });
   </script>

</body>
</html>